<?xml version="1.0" encoding="UTF-8"?>
<!-- 2023/02/21 // 심규영 // 마이페이지 xml 생성 -->
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.kmarket.dao.MyDAO">
    <!-- create -->
    <!-- read -->

    <select id="selectQnaArticles" resultType="kr.co.kmarket.vo.Cs_QnaVO">
        select a.*, b.cate1Name from `km_cs_qna` as a
        join `km_cs_cate1` as b
        on a.qnaCate1 = b.cate1
        JOIN `km_cs_cate2` AS c
        ON a.qnaCate2 = c.cate2 and b.cate1 = c.cate1
        order by `qnaNo` desc
        limit #{start}, 10;
    </select>

    <select id="selectCountTotal" resultType="int">
        select count(`qnaNo`) from `km_cs_qna` as a
        join `km_cs_cate1` as b
        on a.qnaCate1 = b.cate1
    </select>

    <select id="selectReviews" resultType="kr.co.kmarket.vo.product_reviewVO">
        SELECT a.*, b.prodName FROM `km_product_review` as a
        join `km_product` as b
        on a.prodNo = b.prodNo
        ORDER BY `revNo` DESC LIMIT #{start}, 5;
    </select>

    <select id="getCountTotalForReview" resultType="int">
        SELECT COUNT(`revNo`) FROM `km_product_review` WHERE `revNo` = `revNo`;
    </select>

    <!-- upload -->
    <!-- delete -->
</mapper>